{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reset Password</title>
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/static/account/css/Newpass/newpass.css" class="rel" />
</head>
<body>
  <div class="main">
    <div class="box">
      <form id="newpass" method="post">
        {% csrf_token %}
        <h1>Reset password</h1>

        <!-- New Password Field -->
        <div class="input-box">
          <input type="password" name="new_password1" id="password" placeholder="New password" required />
          <i class="bx bxs-lock-alt" onclick="togglePasswordVisibility('password')"></i>
        </div>
        {% if form.new_password1.errors %}
          <ul class="error-messages">
            {% for error in form.new_password1.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}

        <!-- Confirm Password Field -->
        <div class="input-box">
          <input type="password" name="new_password2" id="confirm-password" placeholder="Confirm password" required />
          <i class="bx bxs-lock-alt" onclick="togglePasswordVisibility('confirm-password')"></i>
        </div>
        {% if form.new_password2.errors %}
          <ul class="error-messages">
            {% for error in form.new_password2.errors %}
              <li>{{ error }}</li>
            {% endfor %}
          </ul>
        {% endif %}

        <input type="submit" value="Submit" id="forgot" />
      </form>

      {% if messages %}
        <ul class="messages">
          {% for message in messages %}
            <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>
  </div>

  <script>
    function togglePasswordVisibility(id) {
      const passwordInput = document.getElementById(id);
      const icon = passwordInput.nextElementSibling;
      if (passwordInput.type === "password") {
        passwordInput.type = "text";
        icon.classList.remove("bxs-lock-alt");
        icon.classList.add("bxs-lock-open-alt");
      } else {
        passwordInput.type = "password";
        icon.classList.remove("bxs-lock-open-alt");
        icon.classList.add("bxs-lock-alt");
      }
    }
  </script>
</body>
</html>
